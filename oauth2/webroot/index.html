<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width,initial-scale=1">

    <meta name="robots" content="noindex" />

    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <title>Your SSH terminal code</title>

    <style>
        html, body { margin: 0; padding: 0; color: #000; background: #fff; }
        .codeWrapper { display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;  min-height: 100vh; }
        #code { width: 200px; height: 50px; text-align: center; border: 0; border-style: none; outline: none; resize: none; }
    </style>

    <script>
        function copyCode() {
            let copy = document.getElementById("code");
            copy.select();
            copy.setSelectionRange(0, 99999);
            document.execCommand("copy");
        }
    </script>
</head>
<body>
<div class="codeWrapper">
    <p>Please copy the following code into your SSH terminal:</p>
    <textarea onClick="copyCode()" readonly="readonly" id="code">{{ .Code }}</textarea>
    <button onClick="copyCode()">Copy to clipboard</button>
</div>
<script>
    let searchParams = new URLSearchParams(window.location.search)
    let code = searchParams.get("code")
    let state = searchParams.get("state")
    document.getElementById("code").innerText = state + "|" + code
</script>
</body>
</html>